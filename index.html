<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>식물 최적 배치 분석기 v4 (업데이트)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Mobile height */
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px; /* Desktop height */
            }
        }
        .nav-btn {
            transition: all 0.3s ease;
        }
        .nav-btn.active {
            background-color: #0D9488; /* teal-600 */
            color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .guide-section {
            background-color: #FFFFFF;
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
        }
        .guide-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #0D9488; /* teal-600 */
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #CCFBF1; /* teal-100 */
        }
    </style>
</head>
<body class="text-stone-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-7xl">
        <header class="text-center mb-6 md:mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-stone-900">식물 최적 배치 분석기</h1>
            <p class="text-base sm:text-lg text-stone-600 mt-2">공간과 식물 데이터 기반 최적 배치 전략</p>
        </header>

        <nav class="flex justify-center bg-white p-2 rounded-xl shadow-md mb-6 md:mb-8 sticky top-4 z-10">
            <button id="nav-space" class="nav-btn active flex-1 md:flex-initial text-center py-2 px-3 sm:px-4 md:px-6 rounded-lg text-sm sm:text-base font-semibold" data-view="space">공간별</button>
            <button id="nav-plant" class="nav-btn flex-1 md:flex-initial text-center py-2 px-3 sm:px-4 md:px-6 rounded-lg text-sm sm:text-base font-semibold" data-view="plant">식물별</button>
            <button id="nav-analysis" class="nav-btn flex-1 md:flex-initial text-center py-2 px-3 sm:px-4 md:px-6 rounded-lg text-sm sm:text-base font-semibold" data-view="analysis">환경분석</button>
            <button id="nav-guide" class="nav-btn flex-1 md:flex-initial text-center py-2 px-3 sm:px-4 md:px-6 rounded-lg text-sm sm:text-base font-semibold" data-view="guide">종합가이드</button>
            <button id="nav-themes" class="nav-btn flex-1 md:flex-initial text-center py-2 px-3 sm:px-4 md:px-6 rounded-lg text-sm sm:text-base font-semibold" data-view="themes">테마별</button>
        </nav>

        <main id="app-container">
        </main>
    </div>

    <script>
        // --- DATABASE ---
        const database = {
            spaces: {
                "정원": { light: 3, ventilation: 5, humidity: 4, stability: 2, description: "동향 및 북향 빛으로 오전 햇빛과 밝은 간접광이 유지됩니다. 자연 강우에 노출되며 통풍이 매우 우수하나, 기온 변화에 직접적인 영향을 받습니다." },
                "정원 테라스": { light: 4, ventilation: 4, humidity: 3, stability: 4, description: "최상급 '반양지' 환경입니다. 비를 맞지 않아 물주기 제어가 완벽하며, 강한 바람과 급격한 기온 변화로부터 보호받아 안정적입니다." },
                "계단실 하부": { light: 3, ventilation: 4, humidity: 3, stability: 5, description: "남서향 창을 통해 부담스럽지 않은 중간 밝기의 빛이 들어옵니다. 통풍이 우수하고 온도/습도가 매우 안정적으로 유지되는 훌륭한 실내 공간입니다." },
                "계단실 상부": { light: 4, ventilation: 2, humidity: 2, stability: 3, description: "남서향 빛이 다량 유입되어 오후 내내 강하고 뜨거운 직사광선이 들어옵니다. 통풍은 간헐적이며, 공간이 넓어 빛 조절이 가능합니다." },
                "게스트룸": { light: 5, ventilation: 2, humidity: 1, stability: 3, description: "큰 서향 창으로 인해 가장 강한 오후 직사광선이 들어옵니다. 여름철에는 고온 건조해지기 쉬워, 강한 빛과 열에 견디는 식물에 적합합니다." },
                "2층 거실": { light: 4.5, ventilation: 4, humidity: 2, stability: 4, description: "북향과 서향의 통창 샷시 덕분에 통풍이 매우 우수하며, 강한 서향 빛과 안정적인 북향의 간접광이 공존하는 매력적인 공간입니다." },
                "지하 공간": { light: 5, ventilation: 5, humidity: 5, stability: 5, description: "자연광이 없으며 식물 생장등, 서큘레이터, 제습/가습 시스템으로 모든 환경을 완벽하게 제어할 수 있는 '만능 제어 공간'이자 식물 회복실(ICU)입니다. 다만, 곰팡이 방지를 위해 제습기나 서큘레이터를 상시 가동하여 공기를 순환시키는 것이 중요합니다." }
            },
            plants: [
                {
                    name: "몬스테라 델리시오사",
                    theme: "정글",
                    visual_feature: "깊게 갈라지고 구멍 난 거대한 잎",
                    styling_note: "공간의 중심이 되는 대형 식물, '스릴러' 역할",
                    needs: { light: 4, water: 3, humidity: 5 },
                    care: { watering_tip: "공중 뿌리가 마르지 않게 분무해주면 좋습니다. 흙은 겉흙이 마르면 흠뻑 주세요. 성장이 빠른 만큼 물 요구량도 많습니다.", pests: "응애, 총채벌레가 생기기 쉽습니다. 새잎이 나올 때 특히 잘 관찰해야 합니다.", fertilizer_tip: "성장기에는 2주에 한 번씩 액상 비료를 주거나, 봄에 알갱이 비료를 넉넉히 주면 '찢잎'을 내는 데 도움이 됩니다.", growth_tip: "몬스테라의 상징인 '찢잎'은 식물이 성숙하고, 충분한 빛과 습도를 받을 때 나옵니다. 수태봉을 세워 공중 뿌리를 활착시키면 잎이 훨씬 크고 멋지게 찢어집니다.", tools: "수태봉 또는 대형 식물 지지대" },
                    recovery: { space: "지하 공간", reason: "분갈이 후 스트레스에 취약하며, 80-90%의 압도적인 습도는 잎의 수분 증발을 최소화하여 회복에 결정적인 역할을 합니다." },
                    growth: [
                        { rank: 1, space: "지하 공간", reason: "'찢잎'을 만들기 위한 '높은 습도'와 '밝은 빛'의 조화를 완벽하게 재현합니다. 가장 빠르고 극적인 성장을 유도할 수 있습니다." },
                        { rank: 2, space: "정원 테라스", reason: "밝은 간접광과 우수한 통풍을 제공하여 찢잎 발현에 긍정적인 영향을 줍니다. 습도 보완 시 매우 이상적입니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 창의 밝은 간접광은 충분한 광량을 제공합니다. 단, 성공 여부는 대용량 가습기를 통한 습도 관리에 달려 있습니다." }
                    ]
                },
                {
                    name: "몬스테라 아단소니",
                    theme: "정글",
                    visual_feature: "하트 모양 잎에 난 독특한 구멍",
                    styling_note: "선반이나 행잉 바스켓에서 늘어뜨려 입체감 부여",
                    needs: { light: 3, water: 4, humidity: 5 },
                    care: { watering_tip: "물을 매우 좋아하지만 뿌리 과습엔 취약합니다. 흙이 계속 축축하지 않도록, 겉흙이 말랐을 때 흠뻑 주는 주기를 유지하세요.", pests: "응애, 총채벌레가 생기기 쉽습니다. 높은 공중 습도를 유지하고 주기적으로 잎을 관찰하세요.", fertilizer_tip: "성장이 매우 빠르므로, 봄-가을에 희석한 액상 비료를 2주에 한 번씩 주면 좋습니다.", growth_tip: "타고 오를 지지대를 설치해주면 잎의 크기가 극적으로 커집니다. 공중 뿌리가 지지대에 활착하는 순간부터 진짜 성장이 시작됩니다.", tools: "수태봉 또는 식물 지지대" },
                    recovery: { space: "지하 공간", reason: "분갈이 후 과습에 취약하며, 80-90%의 높은 습도를 제공하는 지하 공간은 잎의 수분 증발을 최소화하여 회복에 결정적인 역할을 합니다." },
                    growth: [
                        { rank: 1, space: "지하 공간", reason: "폭발적 성장의 핵심 조건인 '높은 습도'와 '밝은 간접광'을 연중 내내 완벽하게 제어할 수 있는 유일한 장소입니다." },
                        { rank: 2, space: "정원 테라스", reason: "밝은 간접광과 우수한 통풍을 제공하며, 비를 맞지 않아 과습에 약한 뿌리를 안전하게 관리할 수 있습니다." },
                        { rank: 3, space: "계단실 하부", reason: "안정적인 광량과 통풍으로 건강하게 키울 수 있습니다. 습도 유지를 위해 가습기를 사용하면 금상첨화입니다." }
                    ]
                },
                {
                    name: "필로덴드론 핑크 프린세스",
                    theme: "정글",
                    visual_feature: "검은 잎에 대비되는 화려한 핑크색 무늬",
                    styling_note: "공간에 강렬한 색감을 더하는 식물계의 보석",
                    needs: { light: 4, water: 3, humidity: 5 },
                    care: { watering_tip: "겉흙이 마르면 흠뻑 주세요. 과습에 주의하되 흙이 너무 오래 마르지 않게 관리합니다.", pests: "응애, 총채벌레가 생길 수 있습니다. 통풍이 잘 되는 곳을 선호합니다.", fertilizer_tip: "성장기에는 균형 잡힌 액상 비료를 2주-4주 간격으로 주어 성장을 돕습니다.", growth_tip: "핑크색 발현을 위해서는 '밝은 간접광'이 필수적입니다. 빛이 부족하면 핑크색이 사라지고, 너무 강하면 잎이 탑니다. 적절한 빛의 양을 찾아주는 것이 중요합니다.", tools: "수태봉, 식물등(보조용)" },
                    recovery: { space: "지하 공간", reason: "무늬종, 특히 고가의 식물은 안정적인 환경에서의 회복이 중요합니다. 지하 공간이 최상의 조건을 제공합니다." },
                    growth: [
                        { rank: 1, space: "지하 공간", reason: "안정적인 빛과 습도를 인공적으로 제어하여, 고유의 핑크색 무늬를 가장 선명하고 아름답게 발현시킬 수 있습니다." },
                        { rank: 2, space: "정원 테라스", reason: "밝은 간접광과 뛰어난 통풍이 건강한 성장을 돕고, 핑크색 발현에 필요한 충분한 광량을 제공합니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 또는 동향 창가의 밝은 빛은 핑크 프린세스에게 이상적입니다. 습도 관리에 신경 써 주세요." }
                    ]
                },
                {
                    name: "필로덴드론 화이트 프린세스",
                    theme: "정글",
                    visual_feature: "짙은 녹색 잎에 흩뿌려진 흰색 무늬",
                    styling_note: "흰색 무늬로 공간을 밝히는 포인트, 수태봉과 함께",
                    needs: { light: 4, water: 3, humidity: 5 },
                    care: { watering_tip: "겉흙이 마르면 물을 흠뻑 주세요. 성장이 빠른 편이라 물 요구량도 비교적 많습니다.", pests: "건조하면 응애, 총채벌레가 생길 수 있습니다. 새순을 잘 관찰하세요.", fertilizer_tip: "성장기에는 균형 잡힌 액상 비료를 2주에 한 번씩 주면 좋습니다.", growth_tip: "흰색 무늬(고스트)를 유지하고 키우려면 '밝은 간접광'이 필수적입니다. 빛이 약하면 무늬가 사라지고 녹색 잎만 나올 수 있습니다. 지지대를 태우면 잎이 커집니다.", tools: "수태봉, 가습기" },
                    recovery: { space: "지하 공간", reason: "무늬종은 스트레스에 약합니다. 안정적인 빛과 높은 습도를 제공하는 지하 공간에서 회복시키는 것이 안전합니다." },
                    growth: [
                        { rank: 1, space: "지하 공간", reason: "무늬 발현에 결정적인 '빛'과 '습도'를 완벽하게 제어할 수 있어 가장 아름다운 모습을 기대할 수 있습니다." },
                        { rank: 2, space: "정원 테라스", reason: "밝은 간접광과 우수한 통풍으로 건강한 성장을 촉진합니다. 무늬를 유지하기에 이상적인 광량을 제공합니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 창의 꾸준하고 밝은 빛은 무늬를 유지하고 키우기에 매우 좋은 환경입니다. 가습기를 함께 사용하세요." }
                    ]
                },
                {
                    name: "스킨답서스",
                    theme: "정글",
                    visual_feature: "강인한 생명력의 덩굴성 식물",
                    styling_note: "높은 곳에서 아래로 늘어뜨리는 '스필러' 역할",
                    needs: { light: 3, water: 2, humidity: 3 },
                    care: { watering_tip: "건조에 매우 강합니다. 흙이 완전히 마른 것을 확인하고 물을 주세요. 물을 자주 주면 과습으로 쉽게 무릅니다.", pests: "병충해에 매우 강한 편이지만, 너무 건조하고 통풍이 안되면 깍지벌레가 생길 수 있습니다.", fertilizer_tip: "봄, 가을에 알갱이 비료를 조금 올려두거나, 액상 비료를 월 1회 주면 충분합니다.", growth_tip: "줄기를 길게 늘어뜨리거나 지지대를 태워 위로 올리는 등 다양한 형태로 연출할 수 있습니다. 수경재배로도 매우 잘 자라 투명한 병에서 뿌리를 감상하는 재미도 있습니다.", tools: "행잉 화분 또는 지지대, 투명한 유리병" },
                    recovery: { space: "계단실 하부", reason: "생명력이 강해 지하 공간까지 필요 없습니다. 직사광선이 없고 통풍이 우수하여 과습 없이 안정적으로 활착할 수 있습니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "밝은 간접광, 우수한 통풍, 제어 가능한 물주기 등 잠재력을 최대한 이끌어낼 수 있는 최적의 공간입니다." },
                        { rank: 2, space: "계단실 하부", reason: "적당한 빛과 뛰어난 통풍으로 관리가 매우 쉬워집니다. 안정적으로 자라면서 공간을 푸르게 만듭니다." },
                        { rank: 3, space: "2층 거실", reason: "넓은 공간과 다양한 광량 조건을 활용할 수 있습니다. 북향, 또는 서향 창에서 떨어진 곳 모두에 잘 적응합니다." }
                    ]
                },
                {
                    name: "칼라데아 오나타",
                    theme: "정글",
                    visual_feature: "분홍색 선이 그어진 짙은 녹색의 잎",
                    styling_note: "정교한 잎 무늬, 정글 테마의 고급스러운 포인트",
                    needs: { light: 3, water: 4, humidity: 5 },
                    care: { watering_tip: "흙이 마르지 않게 유지하되, 과습은 피해야 합니다. 수돗물의 염소 성분에 민감하므로 정수된 물을 사용하는 것이 좋습니다.", pests: "건조하면 응애가 생기기 쉽습니다. 잎 가장자리가 마르는 것은 습도 부족 신호입니다.", fertilizer_tip: "성장기에 희석한 액상 비료를 2주에 한 번씩 주면 선명한 잎을 유지하는 데 도움이 됩니다.", growth_tip: "까다롭지만 아름다운 식물입니다. 성공의 열쇠는 '일정한 높은 습도' 유지입니다. 가습기 사용이 필수적입니다.", tools: "대용량 가습기, 정수된 물" },
                    recovery: { space: "지하 공간", reason: "까다로운 칼라데아류의 회복은 '절대적인 습도와 안정성'이 관건입니다. 지하 공간이 완벽한 환경을 제공합니다." },
                    growth: [
                        { rank: 1, space: "지하 공간", reason: "높은 습도, 통제된 간접광 등 까다로운 생육 조건을 완벽하게 맞춰 최상의 잎 상태를 유지할 수 있습니다." },
                        { rank: 2, space: "계단실 하부", reason: "중간 광량과 좋은 통풍을 제공합니다. 단, 대용량 가습기를 곁에 두는 것이 필수적입니다." },
                        { rank: 3, space: "정원 테라스", reason: "여러 식물과 함께 두어 군집 효과로 습도를 높이고, 가장 그늘진 곳에 배치하여 관리합니다." }
                    ]
                },
                {
                    name: "칼라데아 사피토",
                    theme: "정글",
                    visual_feature: "얼룩덜룩한 개구리 등껍질 같은 잎 무늬",
                    styling_note: "독특하고 귀여운 패턴, 하층부의 재미있는 요소",
                    needs: { light: 3, water: 4, humidity: 5 },
                    care: { watering_tip: "흙을 촉촉하게 유지하되, 뿌리가 숨 쉴 틈을 주세요. 겉흙이 살짝 마를 때 물을 주는 것이 좋습니다.", pests: "칼라데아는 건조하면 응애가 생기기 쉽습니다. 잎을 자주 분무해주세요.", fertilizer_tip: "성장기에 희석한 액상 비료를 월 1회 정도 주면 충분합니다.", growth_tip: "다른 칼라데아처럼 '높은 습도'가 관리의 핵심입니다. 밤이 되면 잎을 모으는 '기도 식물'의 움직임을 관찰하는 재미가 있습니다.", tools: "가습기, 분무기" },
                    recovery: { space: "지하 공간", reason: "스트레스에 민감하므로, 변화가 없고 습도가 높은 지하 공간은 회복에 최적의 환경을 제공합니다." },
                    growth: [
                        { rank: 1, space: "지하 공간", reason: "높은 습도와 통제된 간접광으로 최상의 잎 컨디션을 유지하며 건강하게 자랄 수 있습니다." },
                        { rank: 2, space: "계단실 하부", reason: "안정적인 광량과 좋은 통풍 덕분에 관리가 용이합니다. 가습기를 함께 사용하면 금상첨화입니다." },
                        { rank: 3, space: "정원 테라스", reason: "정원 테라스의 가장 그늘진 곳에 배치하고, 특히 아비스고사리와 함께 두어 주변 습도를 높여주면 최상의 시너지 효과를 냅니다." }
                    ]
                },
                {
                    name: "칼라데아 퓨전화이트",
                    theme: "정글",
                    visual_feature: "흰색과 연녹색이 섞인 수채화 같은 잎",
                    styling_note: "까다롭지만 성공 시 최고의 만족감을 주는 식물계의 여왕",
                    needs: { light: 3, water: 4, humidity: 5 },
                    care: { watering_tip: "흙이 절대 마르면 안 되지만, 과습도 금물입니다. 정수되거나 빗물을 사용하여 흙을 촉촉하게 유지해주세요.", pests: "극도로 건조하면 응애가 생길 수 있습니다. 잎이 바스러지는 것은 습도 부족의 대표적인 증상입니다.", fertilizer_tip: "성장기에 아주 옅게 희석한 비료를 월 1회 줍니다. 비료에 매우 민감합니다.", growth_tip: "'극악의 난이도'로 유명합니다. 생존의 유일한 길은 '90% 이상의 공중 습도'와 '안정적인 온도'입니다. 식물 전용 온실이나 제어된 환경이 아니면 키우기 어렵습니다.", tools: "밀폐형 식물장, 대용량 가습기" },
                    recovery: { space: "지하 공간", reason: "퓨전화이트에게 '회복'은 곧 '생존'입니다. 외부와 완벽히 차단되고, 최고의 습도를 제공하는 지하 공간이 유일한 선택지입니다." },
                    growth: [
                        { rank: 1, space: "지하 공간", reason: "생존과 성장에 필요한 모든 조건(초고습도, 통제된 빛, 안정된 온도)을 완벽하게 제공할 수 있는 유일한 공간입니다." },
                        { rank: 2, space: "계단실 하부", reason: "밀폐된 투명 용기(클로슈) 안에 넣고 가습기를 사용한다면, 제한적으로나마 생육 환경을 모방해볼 수 있습니다." },
                        { rank: 3, space: "정원 테라스", reason: "여름철 장마 기간 동안, 비를 맞지 않는 가장 그늘지고 습한 곳이라면 잠시 좋은 컨디션을 보일 수 있습니다." }
                    ]
                },
                {
                    name: "아글라오네마 엔젤",
                    theme: "정글",
                    visual_feature: "흰색 바탕에 녹색 점무늬",
                    styling_note: "어두운 잎들 사이에서 빛처럼 돋보이는 포인트, 하층부 배치",
                    needs: { light: 2, water: 2, humidity: 4 },
                    care: { watering_tip: "과습에 매우 취약합니다. 흙이 거의 다 말랐을 때 물을 주세요. 건조하게 관리하는 편이 안전합니다.", pests: "깍지벌레, 응애가 생길 수 있습니다. 특히 잎 뒷면을 잘 살펴보세요.", fertilizer_tip: "성장기에 희석한 액상 비료를 월 1회 소량 공급합니다. 비료 요구량이 많지 않습니다.", growth_tip: "영화 '레옹'의 식물로 유명합니다. 저광량 환경에서도 잘 견디는 특성 덕분에 실내 어디든 부담 없이 둘 수 있다는 것이 최대 장점입니다. 잎의 무늬를 감상하는 것이 즐거움입니다.", tools: "특별한 도구 없음" },
                    recovery: { space: "지하 공간", reason: "분갈이 후 찬바람과 건조에 스트레스를 받기 쉬워, 안정적인 온도와 높은 습도를 제공하는 지하 공간이 최적의 회복 환경입니다." },
                    growth: [
                        { rank: 1, space: "계단실 하부", reason: "저광량 식물의 생육 조건을 거의 완벽하게 만족시킵니다. 부담 없는 빛과 우수한 통풍이 과습에 민감한 뿌리를 건강하게 유지합니다." },
                        { rank: 2, space: "정원 테라스", reason: "가장 그늘진 곳에 배치하면 높은 공중 습도와 뛰어난 통풍이라는 두 가지 장점을 취할 수 있습니다." },
                        { rank: 3, space: "2층 거실", reason: "창문에서 가장 먼 실내 깊숙한 곳은 저광량 내성이 강한 이 식물에게 충분한 환경입니다. 겨울철 온도 관리가 용이합니다." }
                    ]
                },
                {
                    name: "스노우 사파이어",
                    theme: "정글",
                    visual_feature: "녹색 잎 가장자리를 따른 흰색 무늬",
                    styling_note: "정글 테마의 밝은 악센트, 다른 관엽식물과 혼합 배치",
                    needs: { light: 3, water: 2, humidity: 4 },
                    care: { watering_tip: "과습에 약하므로 겉흙이 마르고 며칠 뒤에 물을 줍니다. 추위에 약하므로 겨울철에는 찬물 대신 미지근한 물을 주세요.", pests: "응애, 깍지벌레가 생길 수 있습니다. 통풍이 중요합니다.", fertilizer_tip: "성장기에 균형잡힌 액상 비료를 월 1회 주면 무늬를 선명하게 유지하는 데 도움이 됩니다.", growth_tip: "아글라오네마 계열은 잎 무늬가 핵심입니다. 너무 어두우면 무늬가 사라지고, 빛이 너무 강하면 잎이 탈 수 있습니다. '밝은 간접광'을 유지하는 것이 폭풍 성장의 비결입니다.", tools: "특별한 도구 없음" },
                    recovery: { space: "지하 공간", reason: "추위에 매우 약하며, 분갈이 후 안정된 온도와 높은 습도가 회복의 관건입니다. 지하 공간은 몸살 겪을 확률을 크게 낮춰줍니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "아름다운 잎 무늬를 유지하고 발현시키기 위한 최적의 공간입니다. 이상적인 광량이 잎이 타거나 무늬가 사라지는 것을 방지합니다." },
                        { rank: 2, space: "계단실 하부", reason: "안정적인 중간광으로 잎의 무늬를 선명하게 유지하면서 관리하기 매우 용이한 환경입니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 창의 간접광은 무늬를 유지하는 데 효과적이며, 겨울철 온도 관리가 용이합니다. 단, 가습기 사용이 필요합니다." }
                    ]
                },
                {
                    name: "아레카야자",
                    theme: "정글",
                    visual_feature: "가늘고 긴 잎이 시원하게 뻗어 나가는 형태",
                    styling_note: "풍성한 볼륨감, 휴양지 분위기를 연출하는 대표 식물",
                    needs: { light: 4, water: 3, humidity: 4 },
                    care: { watering_tip: "겉흙이 마르면 물을 주세요. 수돗물의 불소 성분에 잎 끝이 탈 수 있으니 받아둔 물을 사용하는 것이 좋습니다.", pests: "건조하고 통풍이 안되면 응애, 깍지벌레가 생길 수 있습니다.", fertilizer_tip: "성장기에는 균형 잡힌 액상 비료를 월 1-2회 주면 노랗게 뜨는 잎을 예방할 수 있습니다.", growth_tip: "NASA 선정 실내 공기정화식물 1위로 유명합니다. 밝은 간접광에서 가장 잘 자라며, 새 잎이 계속해서 돋아나 풍성함을 유지합니다.", tools: "대형 화분, 분무기" },
                    recovery: { space: "계단실 하부", reason: "분갈이 후에는 직사광선을 피하고 통풍이 잘되는 안정적인 곳이 좋습니다. 과습 위험을 줄여주는 이곳이 적합합니다." },
                    growth: [
                        { rank: 1, space: "2층 거실", reason: "넓은 공간과 밝은 간접광, 우수한 통풍이 어우러져 아레카야자가 가장 좋아하는 환경을 제공합니다." },
                        { rank: 2, space: "정원 테라스", reason: "밝은 간접광과 뛰어난 통풍으로 건강하게 자랍니다. 한여름 강한 빛은 차광이 필요합니다." },
                        { rank: 3, space: "계단실 하부", reason: "충분한 간접광과 통풍으로 꾸준하고 안정적인 성장을 기대할 수 있는 훌륭한 공간입니다." }
                    ]
                },
                {
                    name: "홍콩 야자",
                    theme: "지중해",
                    visual_feature: "우산처럼 펼쳐진 광택 있는 잎",
                    styling_note: "테라코타 화분에 심어 밝은 창가에 배치, 풍성한 녹음 추가",
                    needs: { light: 3, water: 3, humidity: 4 },
                    care: { watering_tip: "물을 좋아하지만 과습엔 약합니다. 겉흙이 마른 것을 확인하고 물을 흠뻑 주세요. 통풍이 매우 중요합니다.", pests: "통풍이 불량하면 깍지벌레가 생기기 쉽습니다. 응애도 주의해야 합니다.", fertilizer_tip: "성장기에 균형잡힌 액상 비료를 월 1-2회 주면 풍성하게 자랍니다.", growth_tip: "새순의 끝을 잘라주는 '순집기'를 하면 곁가지가 풍성해져 훨씬 꽉 찬 수형으로 자랍니다. 주기적인 가지치기는 통풍과 모양을 모두 잡는 비결입니다.", tools: "가지치기 가위" },
                    recovery: { space: "지하 공간", reason: "환경 변화에 민감하여 잎을 떨어뜨리므로, 외부 변화로부터 완벽히 격리되고 높은 습도를 유지하는 지하 공간이 몸살을 최소화합니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "반양지 식물의 모든 조건을 이상적으로 만족시킵니다. 적절한 빛, 제어 가능한 물주기, 우수한 통풍으로 최상의 성장을 이끌어냅니다." },
                        { rank: 2, space: "계단실 하부", reason: "안정적인 중간광과 훌륭한 통풍이 결합되어, 과습 걱정 없이 건강하게 키울 수 있는 최적의 실내 공간입니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 창가 근처에 배치하면 성장에 필요한 충분한 간접광을 공급받을 수 있습니다. 단, 습도 유지를 위한 관리가 필요합니다." }
                    ]
                },
                {
                    name: "테이블야자",
                    theme: "정글",
                    visual_feature: "섬세하고 부드러운 깃털 형태의 잎",
                    styling_note: "키 큰 식물 아래 중층부에 배치하여 숲의 하층부 연출",
                    needs: { light: 2, water: 2, humidity: 4 },
                    care: { watering_tip: "수돗물의 염소 성분에 민감할 수 있으므로 하루 정도 받아둔 물을 사용하세요. 겉흙이 마르면 물을 주되, 공중 습도를 높게 유지하는 것이 더 중요합니다.", pests: "건조할 경우 응애, 깍지벌레가 생길 수 있습니다. 주기적인 잎 분무가 최고의 예방책입니다.", fertilizer_tip: "성장기(봄-가을)에 희석한 액상 비료를 월 1회 소량 공급합니다. 과비는 금물입니다.", growth_tip: "높은 공중 습도를 유지하는 것이 풍성한 잎을 위한 최고의 성장 비결입니다. 주변에 다른 식물을 모아두거나 가습기를 사용하는 것이 좋습니다.", tools: "분무기, 가습기" },
                    recovery: { space: "지하 공간", reason: "뿌리가 약하고 분갈이 몸살에 민감하므로, 환경 변화가 없고 높은 공중 습도로 수분 스트레스를 줄여주는 지하 공간이 최적의 회복 환경을 제공합니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "과습에 취약한 특성에 맞춰 물주기 제어가 가능하고, 성장에 필요한 밝은 간접광을 제공하여 안정적인 성장을 위한 최고의 장소입니다." },
                        { rank: 2, space: "계단실 하부", reason: "저광량 내성과 우수한 통풍 조건을 모두 만족시켜 실패 확률을 크게 낮춰주는 안정적인 차선책입니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 창가 근처에 배치하면 성장에 필요한 충분한 간접광을 공급받을 수 있습니다. 단, 습도 유지를 위한 관리가 필요합니다." }
                    ]
                },
                {
                    name: "보스턴 고사리",
                    theme: "정글",
                    visual_feature: "풍성하고 부드러운 질감의 아치형 잎",
                    styling_note: "행잉 바스켓으로 중층부 공간을 채우는 부드러운 질감",
                    needs: { light: 3, water: 5, humidity: 5 },
                    care: { watering_tip: "흙이 마르지 않도록 항상 촉촉하게 유지하는 것이 중요합니다. 화분 받침에 물을 채워두는 저면관수도 좋은 방법입니다.", pests: "매우 습한 환경을 좋아해 병충해는 적지만, 통풍이 부족하면 곰팡이병이나 깍지벌레가 생길 수 있습니다.", fertilizer_tip: "성장기에 희석한 액상 비료를 월 1-2회 주면 풍성하게 자랍니다. 잎에 직접 닿지 않게 주세요.", growth_tip: "생존의 핵심은 '절대 마르지 않는 것'입니다. 흙뿐만 아니라 공중 습도도 중요하므로, 가습기 옆이나 욕실 등 집에서 가장 습한 곳이 최고의 명당입니다.", tools: "대용량 가습기, 화분 받침대(저면관수용)" },
                    recovery: { space: "지하 공간", reason: "회복의 핵심은 '압도적인 습도'입니다. 분갈이로 수분 흡수 능력이 저하된 상태에서 건조한 공기는 치명적이므로, 지하 공간이 최상입니다." },
                    growth: [
                        { rank: 1, space: "지하 공간", reason: "'매우 높은 습도'와 '밝은 간접광'이라는 두 핵심 조건을 완벽하게 제어할 수 있는 유일한 공간입니다. 가장 풍성한 성장을 보장합니다." },
                        { rank: 2, space: "정원 테라스", reason: "밝은 간접광과 훌륭한 통풍을 제공하며, 식물 군집 효과와 물주기 제어로 습도 조건을 상당히 개선할 수 있습니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 창의 밝은 간접광을 제공합니다. 단, 성공의 관건은 '습도'이므로 대용량 가습기를 상시 가동해야 합니다." }
                    ]
                },
                {
                    name: "아비스고사리",
                    theme: "정글",
                    visual_feature: "새 둥지처럼 펼쳐지는 밝은 녹색 잎",
                    styling_note: "독특한 방사형 구조, 시선을 사로잡는 형태미",
                    needs: { light: 2, water: 4, humidity: 5 },
                    care: { watering_tip: "새순이 돋아나는 중심부(생장점)에 물이 고이면 썩을 수 있습니다. 흙 쪽으로 물을 주는 것이 안전합니다.", pests: "습한 환경을 좋아해 병충해는 적지만, 통풍이 안되면 곰팡이성 질병이나 민달팽이가 생길 수 있습니다.", fertilizer_tip: "비료 요구량이 적습니다. 성장기에 아주 옅게 희석한 액상 비료를 월 1회 정도만 줍니다.", growth_tip: "고사리류 성장의 핵심은 '습도'와 '통풍'의 조화입니다. 공기는 촉촉하되 정체되지 않게 서큘레이터를 약하게 틀어주는 것이 효과적입니다.", tools: "가습기, 서큘레이터" },
                    recovery: { space: "지하 공간", reason: "생존에 직결되는 '습도'를 최고 수준으로 유지해줍니다. 직사광선과 바람이 차단된 환경에서 뿌리 회복에만 집중할 수 있습니다." },
                    growth: [
                        { rank: 1, space: "지하 공간", reason: "'높은 습도'와 '낮은 광량'이라는 핵심 요구사항을 완벽하게 충족시키는 이상적인 서식지 그 자체입니다." },
                        { rank: 2, space: "계단실 하부", reason: "'저광도'와 '우수한 통풍'을 만족시켜 중심부 부패 위험을 줄여줍니다. 가습기를 병행하면 훌륭한 환경이 됩니다." },
                        { rank: 3, space: "정원 테라스", reason: "가장 그늘진 곳에 배치하면 높은 공중 습도와 뛰어난 통풍이라는 두 가지 장점을 취할 수 있습니다." }
                    ]
                },
                {
                    name: "아스파라거스 메이리",
                    theme: "아프리카",
                    visual_feature: "여우꼬리 같은 부드러운 질감",
                    styling_note: "사바나 테마에 부드러운 질감과 이국적 형태 추가",
                    needs: { light: 3, water: 2, humidity: 4 },
                    care: { watering_tip: "건조에 약한 편이므로 겉흙이 마르면 바로 물을 줍니다. 공중 분무를 자주 해주면 풍성한 잎을 유지하는 데 좋습니다.", pests: "건조하면 응애가 생기기 쉽습니다. 잎이 노랗게 변하면서 떨어진다면 응애를 의심해보세요.", fertilizer_tip: "성장기에 균형잡힌 액상 비료를 월 1-2회 주면 좋습니다.", growth_tip: "여우 꼬리를 닮은 독특한 모양은 통풍이 잘되는 환경에서 더 풍성해집니다. 공기는 촉촉하되, 바람이 부드럽게 통하는 곳을 찾아주세요.", tools: "분무기, 서큘레이터" },
                    recovery: { space: "지하 공간", reason: "분갈이 후 수분 흡수 기능이 저하되므로, 높은 습도로 잎의 수분 증발을 최소화하는 것이 중요합니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "'밝은 간접광', '우수한 통풍', '촉촉한 공기'라는 세 가지 조건을 모두 이상적으로 만족시키는 공간입니다." },
                        { rank: 2, space: "계단실 하부", reason: "강한 빛을 싫어하는 특성에 딱 맞는 안정적인 광량과 통풍을 제공하여, 최상의 컨디션을 유지할 수 있습니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 창의 꾸준한 간접광은 훌륭한 광원입니다. 강한 빛에 약한 특성을 고려할 때 매우 안전하고 안정적입니다." }
                    ]
                },
                {
                    name: "인도 고무나무",
                    theme: "정글",
                    visual_feature: "크고 두꺼운 광택 잎",
                    styling_note: "정글 테마의 '캐노피' 역할, 구조적인 형태 제공",
                    needs: { light: 3, water: 3, humidity: 4 },
                    care: { watering_tip: "겉흙이 마르면 흠뻑 주세요. 환경이 바뀌면 잎을 떨어뜨릴 수 있으니 물주기 패턴을 일정하게 유지하는 것이 좋습니다.", pests: "통풍이 안되면 깍지벌레, 응애가 생기기 쉽습니다. 잎을 주기적으로 닦아주면 예방에 도움이 됩니다.", fertilizer_tip: "봄, 가을에 알갱이 비료를 화분 위에 올려두거나 액상 비료를 월 1회 줍니다.", growth_tip: "넓은 잎에 먼지가 쌓이면 광합성을 방해합니다. 주기적으로 젖은 천으로 잎을 닦아주면 윤기가 나고 건강하게 자랍니다. 새순을 자르면 가지가 나면서 더 풍성해집니다.", tools: "부드러운 천, 가지치기 가위" },
                    recovery: { space: "지하 공간", reason: "분갈이 스트레스가 심하기로 유명합니다. 회복의 핵심인 '절대적인 환경의 안정성'을 지하 공간이 완벽하게 제공합니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "밝은 간접광, 우수한 통풍, 제어 가능한 물주기 등 까다로운 조건들을 대부분 만족시키는 최적의 공간입니다." },
                        { rank: 2, space: "2층 거실", reason: "북향 창의 안정적인 간접광은 이상적인 광량을 제공하며, 겨울철 온도 관리가 매우 용이합니다." },
                        { rank: 3, space: "계단실 하부", reason: "안정적인 중간광과 통풍으로 웃자람이나 잎 떨굼 걱정 없이 건강하게 키울 수 있는 훌륭한 실내 공간입니다." }
                    ]
                },
                {
                    name: "스파티필름",
                    theme: "정글",
                    visual_feature: "윤기나는 짙은 녹색 잎과 흰색 불염포",
                    styling_note: "습한 환경의 중하층부, 우아한 포인트",
                    needs: { light: 2, water: 3, humidity: 4 },
                    care: { watering_tip: "꽃대를 올리고 싶다면 물을 살짝 말리듯이 관리하는 것이 좋습니다. 평소에는 겉흙이 마르면 흠뻑 주세요. 잎이 축 처지면 물이 부족하다는 신호입니다.", pests: "건조하면 응애가 생길 수 있습니다. 통풍이 안 되면 깍지벌레도 주의해야 합니다.", fertilizer_tip: "꽃을 피우기 위해 인(P) 성분이 높은 액상 비료를 성장기에 월 1-2회 주면 효과적입니다.", growth_tip: "하얗고 아름다운 꽃(불염포)을 자주 보려면, 꽃이 시들었을 때 꽃대를 뿌리 가까이에서 잘라주어 에너지를 아끼게 해야 합니다. 꾸준한 간접광은 필수입니다.", tools: "소독된 가위, 개화용 비료" },
                    recovery: { space: "계단실 하부", reason: "저광량 환경에 매우 잘 적응하며, 우수한 통풍이 분갈이 후 과습 위험을 효과적으로 낮춰주어 회복에 최적입니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "'꽃'을 보기 위한 최적의 장소입니다. 개화에 필요한 밝은 간접광을 충분히 제공하며, 통풍이 잘 되어 건강과 개화 가능성을 모두 높입니다." },
                        { rank: 2, space: "계단실 하부", reason: "꽃보다 잎 감상에 초점을 맞춘다면 가장 관리가 쉬운 공간입니다. 안정적인 환경에서 건강한 잎을 유지할 수 있습니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 창의 꾸준한 간접광은 개화에 필요한 광량을 제공합니다. 겨울철 추위로부터 안전하다는 장점이 있습니다." }
                    ]
                },
                {
                    name: "행운목 드라세나 맛상게아나",
                    theme: "아프리카",
                    visual_feature: "목질화된 줄기와 옥수수 같은 잎",
                    styling_note: "사바나의 나무를 연상시키는 형태",
                    needs: { light: 3, water: 2, humidity: 3 },
                    care: { watering_tip: "수경재배 시에는 물을 자주 갈아주어 깨끗하게 유지합니다. 화분에서는 겉흙이 마르면 물을 주세요. 수돗물 염소에 민감할 수 있습니다.", pests: "깍지벌레가 생기기 쉽습니다. 잎 사이사이를 잘 확인해주세요.", fertilizer_tip: "비료 요구량이 적습니다. 성장기에 액상 비료를 아주 옅게 희석해 월 1회 주거나, 알갱이 비료 몇 알을 올려두는 것으로 충분합니다.", growth_tip: "10년에 한 번 꽃을 피운다는 속설이 있을 만큼 꽃 보기가 어렵지만, 적절한 환경에서는 매년 향기로운 꽃을 피울 수 있습니다. 꾸준한 간접광과 안정적인 온도가 중요합니다.", tools: "깨끗한 물통(수경재배용)" },
                    recovery: { space: "지하 공간", reason: "환경의 '일관성'을 선호하므로, 외부와 차단되고 높은 습도로 회복을 돕는 지하 공간이 스트레스를 줄여줍니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "밝은 간접광, 우수한 통풍, 제어 가능한 물주기 등 성장 조건을 이상적으로 충족시키는 최적의 공간입니다." },
                        { rank: 2, space: "2층 거실", reason: "북향 창의 밝은 간접광은 훌륭한 광원이며, 겨울철 냉해로부터 안전하게 보호할 수 있다는 결정적인 장점이 있습니다." },
                        { rank: 3, space: "계단실 하부", reason: "안정적인 중간광과 통풍으로 관리가 수월하며 꾸준한 성장을 기대할 수 있는 좋은 환경입니다." }
                    ]
                },
                {
                    name: "산세비에리아",
                    theme: '아프리카',
                    visual_feature: '검처럼 뻗은 수직적 잎과 줄무늬',
                    styling_note: '조형미를 강조하는 미니멀한 그룹핑의 핵심',
                    needs: { light: 4, water: 1, humidity: 2 },
                    care: { watering_tip: "물을 매우 아껴야 합니다. 한 달에 한 번, 혹은 그보다 더 길게 간격을 두세요. 잎에 주름이 살짝 질 때가 물주기 신호입니다.", pests: "과습으로 인한 무름병이 가장 흔한 문제입니다. 병충해는 거의 없습니다.", fertilizer_tip: "비료를 거의 주지 않아도 됩니다. 새 촉을 보고 싶다면 성장기에 액상 비료를 아주 옅게 한두 번 주는 것으로 충분합니다.", growth_tip: "밤에 산소를 배출하는 CAM 광합성 능력이 있어 침실 식물로도 이상적입니다. 조형미를 강조하여 미니멀한 그룹핑의 핵심으로 사용하세요.", tools: "배수가 매우 잘되는 흙" },
                    recovery: { space: "계단실 상부", reason: "분갈이 후 과습을 피하고 통풍이 잘 되는 환경이 필요합니다. 밝고 건조하며 간헐적 통풍이 있는 이곳이 회복에 유리합니다." },
                    growth: [
                        { rank: 1, space: "2층 거실", reason: "충분한 햇빛이 중요합니다. 서향 창의 강한 빛이 광합성을 극대화하여 건강하고 통통한 개체를 만듭니다." },
                        { rank: 2, space: "게스트룸", reason: "강한 서향 빛으로 성장에 필요한 광량을 충분히 만족시킵니다. 건조한 환경을 선호하는 특성과도 잘 맞습니다." },
                        { rank: 3, space: "계단실 상부", reason: "남서향의 강한 빛을 직접 받을 수 있어 성장기에게 좋은 환경입니다. 물 주는 주기를 극단적으로 늘릴 수 있습니다." }
                    ]
                },
                {
                    name: "스투키",
                    theme: "아프리카",
                    visual_feature: "원통형의 단단하고 곧은 잎",
                    styling_note: "강렬한 수직 라인, 사바나의 건축적 형태 연출",
                    needs: { light: 4, water: 1, humidity: 2 },
                    care: { watering_tip: "금전수와 마찬가지로 물을 매우 아껴야 합니다. 한 달에 한 번, 혹은 그보다 더 길게 간격을 두세요. 잎에 주름이 살짝 질 때가 물주기 신호입니다.", pests: "과습으로 인한 무름병이 가장 흔한 문제입니다. 병충해는 거의 없습니다.", fertilizer_tip: "비료를 거의 주지 않아도 됩니다. 새 촉을 보고 싶다면 성장기에 액상 비료를 아주 옅게 한두 번 주는 것으로 충분합니다.", growth_tip: "자구(새끼)가 잘 나오게 하려면 몸에 꼭 맞는 작은 화분과 많은 햇빛이 필요합니다. 물을 아껴 뿌리가 자구를 만들 에너지를 쓰게 유도하는 것이 비결입니다.", tools: "배수가 매우 잘되는 흙" },
                    recovery: { space: "계단실 상부", reason: "분갈이 후 과습을 피하고 통풍이 잘 되는 환경이 필요합니다. 밝고 건조하며 간헐적 통풍이 있는 이곳이 회복에 유리합니다." },
                    growth: [
                        { rank: 1, space: "2층 거실", reason: "새촉 성장을 위해 충분한 햇빛이 중요합니다. 서향 창의 강한 빛이 광합성을 극대화하여 건강하고 통통한 개체를 만듭니다." },
                        { rank: 2, space: "게스트룸", reason: "강한 서향 빛으로 성장에 필요한 광량을 충분히 만족시킵니다. 건조한 환경을 선호하는 특성과도 잘 맞습니다." },
                        { rank: 3, space: "계단실 상부", reason: "남서향의 강한 빛을 직접 받을 수 있어 성장기 스투키에게 좋은 환경입니다. 물 주는 주기를 극단적으로 늘릴 수 있습니다." }
                    ]
                },
                {
                    name: "금전수",
                    theme: "아프리카",
                    visual_feature: "반짝이는 잎이 달린 아치형 줄기",
                    styling_note: "가뭄에 강한 특성, 조각적인 실루엣 제공",
                    needs: { light: 2, water: 1, humidity: 2 },
                    care: { watering_tip: "알뿌리에 물을 저장합니다. 흙이 완전히 마르고 며칠 뒤에 물을 주는 것이 안전합니다. '물을 아껴야 잘 큰다'는 말을 기억하세요.", pests: "과습으로 인한 뿌리 썩음이 가장 큰 문제입니다. 병충해는 거의 없습니다.", fertilizer_tip: "비료를 거의 필요로 하지 않습니다. 분갈이 시 흙에 소량의 알갱이 비료를 섞어주는 것으로 충분합니다.", growth_tip: "새순은 땅속 알뿌리(구근)에서 나옵니다. 화분이 너무 크면 흙 속에서 알뿌리만 키우느라 새순이 잘 안 나올 수 있습니다. 몸에 꼭 맞는 화분을 사용하는 것이 새순을 보는 비결입니다.", tools: "배수가 매우 잘되는 흙(펄라이트, 산야초 등)" },
                    recovery: { space: "계단실 하부", reason: "분갈이 후 과습을 극도로 경계해야 합니다. 우수한 통풍이 흙을 적절히 말려주어 뿌리 썩음을 방지하는 데 결정적입니다." },
                    growth: [
                        { rank: 1, space: "계단실 하부", reason: "키우기 성패는 '과습 방지'에 달려 있습니다. 저광량 특성과 완벽하게 부합하며, 뛰어난 통풍으로 과습 위험을 원천 차단합니다." },
                        { rank: 2, space: "2층 거실", reason: "실내 깊숙한 곳에 배치하고, 겨울철 냉해 걱정 없이 안전하게 월동시킬 수 있습니다. 물주기 간격은 매우 길게 잡아야 합니다." },
                        { rank: 3, space: "정원 테라스", reason: "가장 그늘진 곳에 배치하고 우수한 통풍을 활용합니다. 단, 겨울철에는 반드시 실내로 옮겨야 합니다." }
                    ]
                },
                {
                    name: "괴마옥",
                    theme: "아프리카",
                    visual_feature: "파인애플을 닮은 귀엽고 독특한 수형",
                    styling_note: "작은 토분에 심어 책상 위나 선반의 포인트로",
                    needs: { light: 5, water: 1, humidity: 2 },
                    care: { watering_tip: "다육식물이므로 물을 매우 아껴야 합니다. 흙이 완전히 마르고 며칠 후에 주세요. 겨울에는 거의 단수합니다.", pests: "과습으로 인한 무름이 가장 큰 문제입니다. 통풍이 잘 되면 병충해는 거의 없습니다.", fertilizer_tip: "비료를 거의 필요로 하지 않습니다. 봄에 아주 소량의 비료를 한 번 주는 것으로 충분합니다.", growth_tip: "햇빛을 매우 좋아합니다. 빛이 부족하면 웃자라므로 가장 해가 잘 드는 곳에 놓아주세요. 자구가 잘 생깁니다.", tools: "배수가 잘되는 흙, 토분" },
                    recovery: { space: "계단실 상부", reason: "과습에 약하므로 회복기에는 통풍이 잘되고 건조한 환경이 필수적입니다. 밝은 빛도 회복에 도움이 됩니다." },
                    growth: [
                        { rank: 1, space: "게스트룸", reason: "강렬한 서향 빛과 건조한 환경은 아프리카 다육식물인 괴마옥에게 최고의 서식지입니다." },
                        { rank: 2, space: "계단실 상부", reason: "강한 남서향 빛을 직접 받아 웃자람 없이 단단하게 자랄 수 있습니다." },
                        { rank: 3, space: "2층 거실", reason: "서향 창 바로 앞에 두어 충분한 광량을 확보할 수 있습니다. 통풍이 좋아 과습 위험도 적습니다." }
                    ]
                },
                {
                    name: "연필선인장",
                    theme: "정글",
                    visual_feature: "가늘고 길게 늘어지는 산호 모양의 줄기",
                    styling_note: "행잉 바스켓에 심어 중공간을 채우는 독특한 질감",
                    needs: { light: 3, water: 3, humidity: 4 },
                    care: { watering_tip: "일반 선인장과 달리 약간의 습도를 좋아합니다. 겉흙이 말랐을 때 물을 주세요. 과습엔 약합니다.", pests: "깍지벌레, 응애가 생길 수 있습니다. 통풍이 중요합니다.", fertilizer_tip: "성장기에 희석한 액상 비료를 월 1회 주면 풍성한 성장에 도움이 됩니다.", growth_tip: "정글 선인장의 일종으로, 강한 직사광선보다는 밝은 간접광을 선호합니다. 촉촉한 공기를 좋아해 다른 식물과 함께 두면 좋습니다.", tools: "행잉 화분, 분무기" },
                    recovery: { space: "지하 공간", reason: "회복기에는 안정적인 습도와 온도가 중요합니다. 과습 위험이 적고 통풍이 제어되는 지하 공간이 안전합니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "밝은 간접광과 뛰어난 통풍이 과습을 막아주어 건강하게 자랄 최적의 환경입니다." },
                        { rank: 2, space: "계단실 하부", reason: "부담스럽지 않은 광량과 우수한 통풍으로 쉽게 관리할 수 있는 이상적인 실내 공간입니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 창가의 안정적인 빛을 받으며 늘어지는 수형을 감상하기에 좋습니다." }
                    ]
                },
                {
                    name: "크라슐라 부다템플",
                    theme: "아프리카",
                    visual_feature: "사찰의 탑처럼 잎이 겹겹이 쌓이는 건축적 형태",
                    styling_note: "다육식물 컬렉션의 독특한 포인트, 작은 화분에 단독으로",
                    needs: { light: 4, water: 1, humidity: 1 },
                    care: { watering_tip: "과습에 매우 취약합니다. 흙 전체가 완전히 마른 것을 확인하고 소량만 주세요. 겨울엔 물을 거의 주지 않습니다.", pests: "과습으로 인한 무름병과 깍지벌레를 주의해야 합니다.", fertilizer_tip: "비료를 거의 필요로 하지 않습니다. 성장기인 봄에 아주 소량의 다육식물 전용 비료를 한 번 주는 것으로 충분합니다.", growth_tip: "햇빛을 매우 좋아하며, 빛이 부족하면 웃자라 특유의 촘촘한 모양이 망가집니다. 통풍이 매우 중요합니다.", tools: "배수가 아주 잘되는 흙, 작은 토분" },
                    recovery: { space: "계단실 상부", reason: "과습 회복이 가장 중요하므로, 밝은 빛과 건조한 공기, 좋은 통풍을 제공하는 이곳이 최적입니다." },
                    growth: [
                        { rank: 1, space: "게스트룸", reason: "강한 빛과 건조한 환경을 필요로 하는 특성에 가장 잘 부합하는 공간입니다." },
                        { rank: 2, space: "2층 거실", reason: "서향 창의 강한 빛은 웃자람을 막고 튼튼한 성장을 돕습니다. 통풍이 좋아 과습 위험도 적습니다." },
                        { rank: 3, space: "계단실 상부", reason: "충분한 광량을 제공하여 건강하게 키울 수 있습니다. 물주기는 극도로 아껴야 합니다." }
                    ]
                },
                {
                    name: "바질",
                    theme: "지중해",
                    visual_feature: "요리에 활용 가능한 신선한 잎",
                    styling_note: "실용성과 미학을 겸비한 키친 가든",
                    needs: { light: 5, water: 4, humidity: 3 },
                    care: { watering_tip: "물을 매우 좋아하므로 흙이 마르지 않게 유지해주세요. 특히 여름철에는 아침저녁으로 확인이 필요합니다. 잎에 직접 물이 닿는 것은 피하는 게 좋습니다.", pests: "통풍이 안되면 응애, 진딧물이 생기기 쉽습니다. 수확을 겸해 주기적으로 가지치기를 해주면 통풍에 도움이 됩니다.", fertilizer_tip: "수확을 많이 할수록 영양분이 많이 필요합니다. 2주에 한 번씩 희석한 액상 비료를 주면 향이 진하고 풍성한 잎을 유지할 수 있습니다.", growth_tip: "바질의 향과 수확량은 햇빛의 양에 정비례합니다. 가장 햇빛이 강하고 긴 곳에 두는 것이 폭풍 성장의 지름길입니다. 꽃대를 바로 잘라주어야 잎을 계속 수확할 수 있습니다.", tools: "수확용 가위, 강한 식물 생장등(실내 재배 시)" },
                    recovery: { space: "정원 테라스", reason: "생명력이 강하지만, 활착 전 강한 직사광선은 피하는 것이 좋습니다. 밝은 간접광과 훌륭한 통풍을 제공하여 안정적인 회복을 돕습니다." },
                    growth: [
                        { rank: 1, space: "게스트룸", reason: "향과 수확량은 광량에 정비례합니다. 길고 강렬한 오후 직사광선이 광합성을 극대화하여 가장 진한 향과 풍성한 잎을 만듭니다." },
                        { rank: 2, space: "2층 거실", reason: "게스트룸처럼 강한 서향 빛을 제공하며, 공간이 넓어 과도한 온도 상승이 덜하고 통풍이 더 원활할 수 있습니다." },
                        { rank: 3, space: "계단실 상부", reason: "강한 남서향 빛은 성장에 충분한 에너지를 제공합니다. 통풍이 약점이지만 배수가 잘되는 흙으로 극복 가능합니다." }
                    ]
                },
                {
                    name: "고수",
                    theme: "지중해",
                    visual_feature: "요리에 활용 가능한 신선한 잎",
                    styling_note: "실용성과 미학을 겸비한 키친 가든",
                    needs: { light: 4, water: 4, humidity: 3 },
                    care: { watering_tip: "물을 좋아하지만 배수가 잘 되어야 합니다. 흙이 마르지 않게 관리하되, 물이 고여있으면 뿌리가 썩을 수 있습니다.", pests: "진딧물이 생기기 쉽습니다. 통풍이 매우 중요합니다.", fertilizer_tip: "수확을 자주 한다면 2주에 한 번씩 질소(N) 함량이 높은 액상 비료를 주면 잎 성장에 도움이 됩니다.", growth_tip: "꽃대가 올라오면 잎이 억세지고 수확이 끝나므로, 꽃대가 보이면 바로 잘라주는 것이 오랫동안 잎을 수확하는 비결입니다. 통풍이 잘 되어야 향이 진해집니다.", tools: "수확용 가위, 통풍을 위한 서큘레이터" },
                    recovery: { space: "정원 테라스", reason: "뿌리가 예민하여 분갈이 시 스트레스가 적은 환경이 필수입니다. 서늘한 온도, 우수한 통풍, 강하지 않은 빛을 제공하는 테라스가 최적입니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "생육 조건을 가장 완벽하게 충족시킵니다. 부드러운 아침 햇살, 뛰어난 통풍, 제어 가능한 물주기로 최고의 성장을 보장합니다." },
                        { rank: 2, space: "정원", reason: "흙에 직접 심어 뿌리가 자유롭게 뻗게 할 수 있습니다. 배수만 잘 되게 관리하면 튼튼하게 자랍니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 주방 창가에 두면 요리에 바로 활용하기 좋고, 타지 않고 자라기에 적합한 광량을 제공합니다. 환기가 중요합니다." }
                    ]
                },
                {
                    name: "루꼴라",
                    theme: "지중해",
                    visual_feature: "요리에 활용 가능한 신선한 잎",
                    styling_note: "실용성과 미학을 겸비한 키친 가든",
                    needs: { light: 4, water: 3, humidity: 3 },
                    care: { watering_tip: "겉흙이 마르면 물을 줍니다. 너무 건조하면 잎이 쓰고 억세집니다.", pests: "벼룩잎벌레가 잎에 구멍을 낼 수 있습니다. 통풍이 잘 되면 피해를 줄일 수 있습니다.", fertilizer_tip: "알갱이 비료를 흙에 섞어주면 꾸준히 수확하는 데 도움이 됩니다. 액상 비료를 가끔 보충해줘도 좋습니다.", growth_tip: "서늘한 기후를 좋아하는 채소입니다. 너무 강한 햇빛을 받으면 쓴맛이 강해지고 꽃대가 빨리 올라옵니다. 부드러운 잎을 원한다면 반양지에서 키우는 것이 좋습니다.", tools: "수확용 가위, 차광막(여름철)" },
                    recovery: { space: "정원 테라스", reason: "모종을 옮겨 심는다면 서늘하고 통풍이 잘되며 강한 빛을 피할 수 있는 정원 테라스가 활착 성공률을 높여줍니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "맛과 수확량을 모두 잡을 수 있는 최적의 공간입니다. 잎이 너무 써지는 것을 방지하고 건강한 성장을 돕습니다." },
                        { rank: 2, space: "정원", reason: "노지에 직접 심어 풍성하게 키울 수 있습니다. 여름철 강한 햇빛으로 쓴맛이 강해질 수 있어 차광이 필요할 수 있습니다." },
                        { rank: 3, space: "2층 거실", reason: "북향 창가에서 연중 꾸준히 재배하기 좋습니다. 잎의 쓴맛을 강하게 만들지 않으며, 필요시 생장등을 보조로 사용합니다." }
                    ]
                },
                {
                    name: "포인세티아",
                    theme: "지중해",
                    visual_feature: "밝은 색상의 포엽 (계절적 활용)",
                    styling_note: "지중해의 부겐빌레아처럼 강렬한 색감 포인트",
                    needs: { light: 4, water: 2, humidity: 3 },
                    care: { watering_tip: "과습에 매우 약합니다. 흙이 마른 것을 확인하고 물을 주세요. 단풍(포엽)이 든 시기에는 물 요구량이 줄어듭니다.", pests: "온실가루이, 응애가 생길 수 있습니다. 통풍이 중요합니다.", fertilizer_tip: "단풍을 보려면 비료를 주지 않아야 합니다. 녹색 잎을 키우는 성장기(봄-여름)에만 액상 비료를 월 1회 줍니다.", growth_tip: "붉은 잎(포엽)을 다시 보려면 '단일 처리'가 필요합니다. 가을부터 하루 12시간 이상 빛이 완전히 차단된 암실에 두어야 합니다. 이 과정을 거치지 않으면 녹색 잎 식물로 자랍니다.", tools: "빛을 막을 수 있는 상자 또는 암막 커튼" },
                    recovery: { space: "정원 테라스", reason: "과습을 싫어하므로 통풍이 좋은 환경이 회복에 유리합니다. 그늘진 곳에서 약한 빛과 우수한 통풍을 동시에 제공합니다." },
                    growth: [
                        { rank: 1, space: "정원 테라스", reason: "녹색 잎을 건강하게 키우기 위한 최적의 장소입니다. 햇빛을 좋아하지만 한여름 직사광선은 피해야 하는 까다로운 조건을 만족시킵니다." },
                        { rank: 2, space: "2층 거실", reason: "햇빛을 좋아하는 특성에 맞춰 충분한 광량을 제공하고, 겨울철 온도 유지가 용이합니다. 여름철에는 빛 조절이 필요합니다." },
                        { rank: 3, space: "계단실 상부", reason: "강한 빛으로 튼튼한 성장을 돕습니다. 단, 통풍이 약하므로 배수가 매우 잘되는 흙과 신중한 물주기가 필수입니다." }
                    ]
                },
                {
                    name: "파피루스",
                    theme: "아프리카",
                    visual_feature: "가느다란 줄기 끝에 폭죽처럼 퍼지는 잎",
                    styling_note: "사바나의 강가를 연상시키는 이질적인 질감과 형태",
                    needs: { light: 5, water: 5, humidity: 4 },
                    care: { watering_tip: "습지 식물이므로 흙이 마르면 안 됩니다. 화분 받침에 항상 물이 고여 있도록 관리하는 것이 가장 좋습니다(저면관수).", pests: "매우 습해 병충해는 거의 없지만, 물이 고여있어 날파리가 생길 수 있습니다. 물을 자주 갈아주세요.", fertilizer_tip: "성장기에는 물에 희석한 액상 비료를 2주에 한 번씩 주면 폭발적으로 성장합니다.", growth_tip: "습지 식물이라는 정체성을 이해하는 것이 핵심입니다. 화분째로 물이 담긴 다른 그릇에 넣어두는 것이 가장 확실한 방법입니다. 햇빛을 매우 좋아하므로 실내에서는 가장 밝은 창가가 좋습니다.", tools: "깊이가 있는 화분 받침 또는 방수 화분 커버" },
                    recovery: { space: "지하 공간", reason: "뿌리가 마르는 것을 극도로 싫어하는 습지 식물입니다. 높은 습도와 안정적인 온도를 제공하고, 화분 받침대에 물을 채워두면 안전하게 활착합니다." },
                    growth: [
                        { rank: 1, space: "정원", reason: "잠재력을 최대로 끌어낼 수 있는 공간입니다. 흙에 직접 심고 물 공급만 지속적으로 유지하면 극적으로 성장할 것입니다." },
                        { rank: 2, space: "2층 거실", reason: "실내에서 가장 많은 빛을 제공하며 왕성한 성장을 지원합니다. 큰 화분 받침대에 항상 물을 가득 채워 관리합니다." },
                        { rank: 3, space: "게스트룸", reason: "강한 서향 빛으로 광량 요구를 충족하며, 고온을 선호하는 특성에 오히려 긍정적일 수 있습니다. 물 관리는 2순위와 동일합니다." }
                    ]
                }
            ]
        };

        const spaceRecommendations = {
            "정원": [
                { name: "수국", reason: "반양지를 선호하며, 정원의 환경과 잘 어울려 화사함을 더해줍니다." },
                { name: "호스타", reason: "그늘진 정원을 위한 클래식한 선택지로, 넓은 잎이 공간을 풍성하게 만듭니다." },
                { name: "매발톱", reason: "통풍이 잘되는 반그늘에서 아름다운 꽃을 피우는 매력적인 다년생 식물입니다." }
            ],
            "정원 테라스": [
                { name: "올리브 나무", reason: "밝은 빛과 좋은 통풍을 사랑하는 지중해 식물로, 테라스에 이국적인 분위기를 더합니다." },
                { name: "유칼립투스", reason: "햇빛과 바람을 즐기는 식물로, 은은한 향기와 세련된 잎 모양이 매력적입니다." },
                { name: "제라늄", reason: "밝은 빛 아래에서 화려한 꽃을 끊임없이 피워 테라스를 생기있게 만듭니다." }
            ],
            "계단실 하부": [
                { name: "필로덴드론 미칸", reason: "벨벳 질감의 잎이 매력적인 덩굴식물로, 부담 없는 빛에서도 잘 자랍니다." },
                { name: "디펜바키아", reason: "넓은 잎이 시원한 느낌을 주며, 비교적 낮은 광량에도 잘 견뎌 실내 포인트로 좋습니다." },
                { name: "켄차야자", reason: "테이블야자보다 더 웅장한 느낌을 주는 야자수로, 우아한 실내 분위기를 연출합니다."}
            ],
            "계단실 상부": [
                { name: "여인초 (극락조)", reason: "하늘을 향해 뻗는 시원한 잎이 특징으로, 강하고 밝은 빛을 받아야 잘 자랍니다." },
                { name: "알로카시아", reason: "독특한 잎 모양으로 사랑받으며, 밝은 간접광 아래에서 존재감을 뽐냅니다." },
                { name: "크로톤", reason: "다채로운 색상의 잎을 유지하기 위해 많은 빛을 필요로 하는 화려한 관엽식물입니다." }
            ],
            "게스트룸": [
                { name: "용설란 (아가베)", reason: "강한 직사광선과 건조한 환경에 매우 강한 다육식물로, 모던하고 조각적인 느낌을 줍니다." },
                { name: "선인장", reason: "가장 뜨겁고 건조한 환경을 위한 최고의 선택지입니다. 거의 관리가 필요 없습니다." },
                { name: "알로에", reason: "강한 빛을 좋아하며 건조에 강하고, 실용적인 가치도 있는 다재다능한 다육식물입니다." }
            ],
            "2층 거실": [
                { name: "휘카스 움베르타", reason: "커다란 하트 모양 잎이 특징으로, 밝은 간접광을 좋아해 거실 창가에 이상적입니다." },
                { name: "드라세나", reason: "다양한 품종이 있어 선택의 폭이 넓고, 밝은 간접광에서 잘 자라는 키우기 쉬운 식물입니다." },
                { name: "필레아 페페로미오이데스", reason: "동글동글한 잎이 귀여워 '코인 플랜트'라고도 불리며, 밝은 빛 아래에서 번식도 잘 됩니다." }
            ],
            "지하 공간": [
                { name: "버섯 키우기 키트", reason: "빛이 거의 필요 없고 습한 환경을 좋아해, 제어된 지하 공간에서 키우는 재미가 쏠쏠합니다." },
                { name: "마란타 (기도 식물)", reason: "낮과 밤에 잎을 움직이는 신비로운 식물로, 높은 습도와 낮은 간접광을 선호합니다." },
                { name: "렉스 베고니아", reason: "화려하고 독특한 잎 무늬가 특징으로, 높은 습도와 밝은 간접광의 제어된 환경에서 최고의 모습을 보여줍니다." }
            ]
        };

        const themeRecommendations = {
            "정글": [
                { name: "알로카시아 (Alocasia sp.)", reason: "코끼리 귀를 닮은 이국적인 잎 모양으로 정글의 상층부를 채워주는 압도적인 존재감을 더합니다." },
                { name: "안스리움 (Anthurium sp.)", reason: "벨벳 질감의 잎이나 화려한 불염포가 특징으로, 정글 테마의 고급스러움을 한층 더 높여줍니다."}
            ],
            "아프리카": [
                { name: "알로에 베라 (Aloe vera)", reason: "뾰족하고 다육질의 로제트 형태 잎이 건조한 기후를 상징하는 클래식한 조형미를 더합니다." },
                { name: "녹태고/스트링 오브 펄스 (Senecio rowleyanus)", reason: "구슬 같은 잎이 쏟아지는 덩굴 형태로, 선반이나 높은 화분에서 늘어뜨리는 독특한 '스필러' 역할을 합니다." }
            ],
            "지중해": [
                { name: "미니 올리브 나무 (Olea europaea)", reason: "은빛이 도는 녹색 잎과 고풍스러운 수형이 지중해 테마를 상징하며, 햇살 가득한 분위기를 연출합니다." },
                { name: "라벤더 & 로즈마리 (Lavandula & Salvia rosmarinus)", reason: "향기로운 허브로 후각적 경험의 핵심이 되며, 밝은 창가에 필수적으로 배치해야 합니다." }
            ]
        };

        const appContainer = document.getElementById('app-container');
        let currentView = 'space';
        let currentSpace = Object.keys(database.spaces)[1];
        let currentPlant = database.plants[0].name;
        let activeChart = null;
        let plantNeedsChart = null;

        function render() {
            if (activeChart) { activeChart.destroy(); activeChart = null; }
            if (plantNeedsChart) { plantNeedsChart.destroy(); plantNeedsChart = null; }
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.view === currentView);
            });

            switch (currentView) {
                case 'space': renderSpaceView(); break;
                case 'plant': renderPlantView(); break;
                case 'analysis': renderAnalysisView(); break;
                case 'guide': renderGuideView(); break;
                case 'themes': renderThemeView(); break;
            }
        }

        function getRankBadgeHTML(rank) {
            let classes = '', text = `${rank}순위`;
            switch (rank) {
                case 1: classes = 'bg-amber-200 text-amber-800'; text = '🥇 1순위'; break;
                case 2: classes = 'bg-slate-200 text-slate-800'; text = '🥈 2순위'; break;
                case 3: classes = 'bg-orange-200 text-orange-800'; text = '🥉 3순위'; break;
                default: classes = 'bg-stone-200 text-stone-800';
            }
            return `<span class="text-xs font-bold ${classes} px-2 py-1 rounded-full">${text}</span>`;
        }
        
        function renderGuideView() {
            appContainer.innerHTML = `
                <div id="guide-view">
                    <div class="guide-section">
                        <h2 class="guide-title">🌿 현명한 비료 사용 가이드</h2>
                        <div class="space-y-4 text-stone-700 text-sm sm:text-base">
                            <div>
                                <h3 class="font-bold text-base text-stone-800 mb-1">1. 액상 비료 (빠른 성장 지원)</h3>
                                <p><strong class="text-teal-600">언제:</strong> 식물이 활발히 자라는 봄~가을 (4월~10월).</p>
                                <p><strong class="text-teal-600">어떻게:</strong> 제품 설명서에 맞춰 물에 희석하여, 물 주는 날 2주~1달 간격으로 흙에 부어줍니다.</p>
                                <p><strong class="text-teal-600">핵심팁:</strong> 과용은 뿌리를 상하게 할 수 있습니다. 차라리 기준보다 옅게 희석해서 주는 것이 안전합니다.</p>
                            </div>
                            <div>
                                <h3 class="font-bold text-base text-stone-800 mb-1">2. 알갱이 비료 (지속적인 기초 영양)</h3>
                                <p><strong class="text-teal-600">언제:</strong> 봄철 분갈이 시 또는 매년 봄 화분 위.</p>
                                <p><strong class="text-teal-600">어떻게:</strong> 분갈이 시 흙에 소량 섞어주거나, 화분 위 흙에 살짝 파묻어 줍니다. 물을 줄 때마다 서서히 녹아 3~6개월간 영양을 공급합니다.</p>
                                <p><strong class="text-teal-600">핵심팁:</strong> 뿌리에 직접 닿으면 좋지 않으니, 흙과 잘 섞거나 흙 위에 올려두는 방식으로 사용하세요.</p>
                            </div>
                        </div>
                    </div>
                    <div class="guide-section">
                        <h2 class="guide-title">❄️ 서울 기준, 겨울나기 (월동) 가이드</h2>
                        <div class="space-y-4 text-stone-700 text-sm sm:text-base">
                            <div>
                                <h3 class="font-bold text-base text-stone-800 mb-1">실내로 들여오기 (10월 말 ~ 11월 초)</h3>
                                <p>첫서리가 내리기 전, 밤 기온이 5°C 이하로 떨어지기 시작하면 '정원', '정원 테라스'의 식물들을 실내로 옮겨야 합니다.</p>
                                <p>들여오기 전 잎 앞뒷면과 흙에 병충해가 없는지 꼼꼼히 살피고, 갑작스런 환경 변화에 식물이 놀라지 않도록 처음 며칠은 창가 근처에 두어 적응시켜 주세요.</p>
                            </div>
                            <div>
                                <h3 class="font-bold text-base text-stone-800 mb-1">야외로 내보내기 (4월 말 ~ 5월 초)</h3>
                                <p>늦서리 위험이 완전히 사라지고 밤 기온이 10°C 이상으로 안정될 때 다시 야외로 나갈 수 있습니다.</p>
                                <p>겨우내 실내의 약한 빛에 적응된 상태이므로, 바로 직사광선에 두면 잎이 탑니다. 첫 주에는 그늘에서 시작해 점차 빛의 양을 늘려주는 '경화 과정'이 필수입니다.</p>
                            </div>
                        </div>
                    </div>
                    <div class="guide-section">
                        <h2 class="guide-title">🌱 폭풍 성장을 위한 추천 아이템</h2>
                        <ul class="space-y-4 text-stone-600 list-inside">
                            <li class="pl-2 border-l-4 border-teal-200">
                                <strong class="font-semibold text-teal-800">슬릿 화분:</strong> 뿌리 과습을 방지하고 통풍을 원활하게 하여 뿌리 건강과 성장을 촉진합니다. 특히 과습에 민감한 식물에게 효과적입니다.
                            </li>
                            <li class="pl-2 border-l-4 border-teal-200">
                                <strong class="font-semibold text-teal-800">수태봉/코코봉:</strong> 몬스테라, 필로덴드론 등 덩굴성 식물이 기댈 수 있게 지지해줍니다. 공중 뿌리가 활착하며 더 크고 건강한 잎을 내도록 돕습니다.
                            </li>
                            <li class="pl-2 border-l-4 border-teal-200">
                                <strong class="font-semibold text-teal-800">식물등:</strong> 햇빛이 부족한 실내 환경에서 빛을 보충해주는 필수 아이템입니다. 웃자람을 방지하고 건강한 성장을 돕습니다.
                            </li>
                            <li class="pl-2 border-l-4 border-teal-200">
                                <strong class="font-semibold text-teal-800">서큘레이터:</strong> 공기를 순환시켜 통풍을 개선하고, 병충해 예방에 도움을 줍니다. 특히 여름철 과습 방지에 효과적입니다.
                            </li>
                            <li class="pl-2 border-l-4 border-teal-200">
                                <strong class="font-semibold text-teal-800">프리미엄 배양토:</strong> 펄라이트, 훈탄 등이 배합된 배수가 잘 되는 흙은 뿌리 호흡을 도와 성장에 큰 차이를 만듭니다.
                            </li>
                            <li class="pl-2 border-l-4 border-teal-200">
                                <strong class="font-semibold text-teal-800">영양제 (액비/완효성):</strong> 성장 시기에 맞춰 적절한 영양을 공급하면 더 빠르고 풍성하게 자랍니다. (예: 하이포넥스, 마감프K)
                            </li>
                        </ul>
                    </div>
                    <div class="p-6 bg-stone-50 rounded-lg mt-6">
                        <h2 class="text-xl font-bold text-teal-700 mb-3">🌸 계절별 관리 가이드</h2>
                        <div class="space-y-3 text-stone-700">
                            <p><strong>🌱 봄 (Spring):</strong> 만물이 소생하는 시기. 대부분의 식물이 활발하게 성장하는 때입니다. 흙이 마르는 속도를 자주 확인하고, 성장세가 보이면 영양제를 주기 시작하세요. 분갈이가 필요하다면 지금이 적기입니다.</p>
                            <p><strong>☀️ 여름 (Summer):</strong> 성장이 가장 왕성하지만, 고온다습으로 인한 과습과 병충해에 주의해야 합니다. 통풍에 각별히 신경 쓰고, 물주기 횟수는 늘리되 흙 전체가 마를 틈을 주는 것이 중요합니다. 강한 직사광선은 잎을 태울 수 있으니 차광이 필요합니다.</p>
                            <p><strong>🍂 가을 (Autumn):</strong> 서서히 성장이 둔화되는 시기입니다. 물 주는 횟수와 양을 점차 줄여나가고, 비료 주는 횟수도 줄이거나 중단합니다. 겨울을 대비해 실내로 들일 식물들을 준비하는 시기입니다.</p>
                            <p><strong>❄️ 겨울 (Winter):</strong> 대부분의 식물이 휴면기에 들어갑니다. 물주기는 흙이 완전히 말랐을 때 최소한으로 주어 뿌리가 마르지 않을 정도로만 관리합니다. 냉해를 입지 않도록 찬 바람이 드는 창가 배치는 피해주세요.</p>
                        </div>
                    </div>

                    <div class="p-6 bg-stone-50 rounded-lg mt-6">
                        <h2 class="text-xl font-bold text-teal-700 mb-3">🐞 병충해 백과</h2>
                        <div class="space-y-3 text-stone-700">
                            <p><strong>응애:</strong> 잎 뒷면에 거미줄 같은 것이 보이고 잎 색이 하얗게 바랜다면 응애를 의심해야 합니다. 건조할 때 잘 생기므로, 주기적인 분무로 예방하고, 발생 시 물샤워로 씻어내거나 응애 전문 약을 사용하세요.</p>
                            <p><strong>깍지벌레:</strong> 잎이나 줄기에 하얀 솜 같은 벌레가 붙어있습니다. 식물의 즙을 빨아먹어 성장을 저해합니다. 발견 즉시 면봉이나 물티슈로 떼어내고, 창문을 열어 통풍을 개선해주세요. 개체 수가 많으면 깍지벌레 약을 사용해야 합니다.</p>
                            <p><strong>뿌리파리:</strong> 화분 주변에 작은 날벌레가 날아다닌다면 뿌리파리 유충이 흙 속에 있을 가능성이 높습니다. 흙을 건조하게 관리하는 것이 최고의 예방책이며, 끈끈이 트랩을 설치하거나 흙 위에 살충제를 뿌려 유충을 제거할 수 있습니다.</p>
                        </div>
                    </div>

                    <div class="p-6 bg-stone-50 rounded-lg mt-6">
                        <h2 class="text-xl font-bold text-teal-700 mb-3">🪴 식물 번식 가이드</h2>
                        <div class="space-y-3 text-stone-700">
                            <p><strong>물꽂이 (Water Propagation):</strong> 가장 쉬운 번식법 중 하나입니다. 마디(공중 뿌리가 나는 지점)를 포함하여 줄기를 잘라 물에 꽂아두면 뿌리가 나옵니다. (예: 스킨답서스, 몬스테라, 필로덴드론)</p>
                            <p><strong>줄기꽂이 (Stem Cuttings):</strong> 자른 줄기를 바로 흙에 심는 방법입니다. 자른 단면을 1-2시간 말린 후 흙에 심으면 뿌리내림 성공률이 높아집니다. (예: 인도 고무나무, 각종 다육식물)</p>
                            <p><strong>포기나누기 (Division):</strong> 화분에서 식물을 꺼내 뿌리째로 덩어리를 나누어 심는 방법입니다. 뿌리가 화분에 꽉 찬 식물에게 적합합니다. (예: 스파티필름, 각종 고사리류, 아비스)</p>
                        </div>
                    </div>

                    <div class="guide-section mt-6">
                        <h2 class="guide-title">🌿 나의 식물 조합 스타일링</h2>
                        <p class="text-sm text-stone-600 mb-4">보유하신 식물들을 기반으로, 함께 두면 시너지가 나는 조합과 추가하면 좋을 식물을 추천해 드립니다.</p>
                        <div class="space-y-6">
                            
                            <div>
                                <h3 class="font-bold text-base text-stone-800 mb-2">1. 모던 & 시크 사막 분위기</h3>
                                <p class="text-sm text-stone-600 mb-3">직선적이고 깔끔한 형태의 식물들로, 현대적인 인테리어에 포인트를 줍니다. 물을 거의 필요로 하지 않아 관리가 가장 쉬운 조합입니다.</p>
                                <div class="mb-3">
                                    <p class="font-semibold text-sm text-teal-700 mb-2">✅ 나의 보유 식물</p>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="bg-stone-200 text-stone-800 px-3 py-1 text-sm rounded-full">스투키</span>
                                        <span class="bg-stone-200 text-stone-800 px-3 py-1 text-sm rounded-full">금전수</span>
                                        <span class="bg-stone-200 text-stone-800 px-3 py-1 text-sm rounded-full">산세비에리아</span>
                                        <span class="bg-stone-200 text-stone-800 px-3 py-1 text-sm rounded-full">괴마옥</span>
                                        <span class="bg-stone-200 text-stone-800 px-3 py-1 text-sm rounded-full">크라슐라 부다템플</span>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-sm text-purple-700 mb-2">✨ 추가 추천 식물</p>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 text-sm rounded-full" title="조각같은 형태로 미니멀한 공간에 잘 어울립니다.">용설란</span>
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 text-sm rounded-full" title="다양한 모양과 크기로 컬렉션을 만드는 재미가 있습니다.">선인장</span>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h3 class="font-bold text-base text-stone-800 mb-2">2. 싱그러운 트로피컬 정글</h3>
                                <p class="text-sm text-stone-600 mb-3">크고 화려한 잎사귀들로 공간을 풍성하고 생기 넘치게 만듭니다. 높은 습도를 좋아하므로, 함께 모아두고 가습기를 틀어주면 시너지가 좋습니다.</p>
                                <div class="mb-3">
                                    <p class="font-semibold text-sm text-teal-700 mb-2">✅ 나의 보유 식물</p>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="bg-green-200 text-green-800 px-3 py-1 text-sm rounded-full">몬스테라 델리시오사</span>
                                        <span class="bg-green-200 text-green-800 px-3 py-1 text-sm rounded-full">몬스테라 아단소니</span>
                                        <span class="bg-green-200 text-green-800 px-3 py-1 text-sm rounded-full">인도 고무나무</span>
                                        <span class="bg-green-200 text-green-800 px-3 py-1 text-sm rounded-full">아레카야자</span>
                                        <span class="bg-green-200 text-green-800 px-3 py-1 text-sm rounded-full">필로덴드론 핑크/화이트 프린세스</span>
                                        <span class="bg-green-200 text-green-800 px-3 py-1 text-sm rounded-full">모든 칼라데아 종류</span>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-sm text-purple-700 mb-2">✨ 추가 추천 식물</p>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 text-sm rounded-full" title="독특한 잎맥과 형태로 이국적인 느낌을 더해줍니다.">알로카시아</span>
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 text-sm rounded-full" title="벨벳 질감의 잎이나 화려한 무늬를 가진 품종이 많아 컬렉션을 풍성하게 합니다.">안스리움</span>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h3 class="font-bold text-base text-stone-800 mb-2">3. 우아한 고사리 & 야자수 라운지</h3>
                                <p class="text-sm text-stone-600 mb-3">섬세하고 부드러운 잎선이 특징으로, 편안하고 클래식한 분위기를 연출합니다. 대부분 반그늘에서도 잘 자라 실내 깊숙한 곳을 채우기 좋습니다.</p>
                                <div class="mb-3">
                                    <p class="font-semibold text-sm text-teal-700 mb-2">✅ 나의 보유 식물</p>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="bg-teal-200 text-teal-800 px-3 py-1 text-sm rounded-full">보스턴 고사리</span>
                                        <span class="bg-teal-200 text-teal-800 px-3 py-1 text-sm rounded-full">아비스고사리</span>
                                        <span class="bg-teal-200 text-teal-800 px-3 py-1 text-sm rounded-full">테이블야자</span>
                                        <span class="bg-teal-200 text-teal-800 px-3 py-1 text-sm rounded-full">아스파라거스 메이리</span>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-sm text-purple-700 mb-2">✨ 추가 추천 식물</p>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 text-sm rounded-full" title="밤이 되면 잎을 모으는 신비로운 식물로, 화려한 잎 무늬가 매력적입니다.">마란타</span>
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 text-sm rounded-full" title="더욱 웅장한 야자수 느낌을 원할 때 좋습니다.">켄차야자</span>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h3 class="font-bold text-base text-stone-800 mb-2">4. 향기로운 키친 가든</h3>
                                <p class="text-sm text-stone-600 mb-3">요리에 바로 활용할 수 있는 허브들로 주방을 싱그럽게 만듭니다. 햇빛과 통풍을 좋아하며, 자주 수확해줄수록 풍성하게 자랍니다.</p>
                                <div class="mb-3">
                                    <p class="font-semibold text-sm text-teal-700 mb-2">✅ 나의 보유 식물</p>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="bg-lime-200 text-lime-800 px-3 py-1 text-sm rounded-full">고수</span>
                                        <span class="bg-lime-200 text-lime-800 px-3 py-1 text-sm rounded-full">루꼴라</span>
                                        <span class="bg-lime-200 text-lime-800 px-3 py-1 text-sm rounded-full">바질</span>
                                    </div>
                                </div>
                                <div>
                                    <p class="font-semibold text-sm text-purple-700 mb-2">✨ 추가 추천 식물</p>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 text-sm rounded-full" title="요리의 풍미를 더해주고 좋은 향기를 내뿜습니다.">로즈마리</span>
                                        <span class="bg-purple-100 text-purple-800 px-3 py-1 text-sm rounded-full" title="음료나 디저트에 활용하기 좋고 생명력이 매우 강합니다.">애플민트</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderSpaceView() {
            const recoveryPlants = database.plants.filter(p => p.recovery.space === currentSpace);
            const growthPlants = database.plants
                .map(p => ({ plant: p, recommendation: p.growth.find(g => g.space === currentSpace) }))
                .filter(item => item.recommendation)
                .sort((a, b) => a.recommendation.rank - b.recommendation.rank);
            
            appContainer.innerHTML = `
                <div id="space-view" class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                    <h2 class="text-xl sm:text-2xl font-bold mb-4 text-center">공간별 최적 식물 찾기</h2>
                    <p class="text-center text-stone-600 mb-6 text-sm sm:text-base">공간을 선택하여 적합한 식물을 추천받으세요.</p>
                    <div class="flex flex-wrap justify-center gap-2 mb-8">
                        ${Object.keys(database.spaces).map(space => `
                            <button class="px-3 py-2 sm:px-4 rounded-full font-semibold text-xs sm:text-sm transition ${currentSpace === space ? 'bg-teal-600 text-white shadow-md' : 'bg-stone-200 text-stone-700 hover:bg-stone-300'}" onclick="handleSpaceSelect('${space}')">
                                ${space}
                            </button>
                        `).join('')}
                    </div>
                    <div class="flex flex-col md:grid md:grid-cols-2 gap-6 md:gap-8">
                        <div>
                            <h3 class="text-lg sm:text-xl font-bold mb-4 text-teal-700 border-b-2 border-teal-200 pb-2">🌱 <span class="text-teal-600">회복</span> 추천 식물</h3>
                            ${recoveryPlants.length > 0 ? recoveryPlants.map(p => `
                                <div class="p-4 mb-2 bg-stone-50 rounded-lg">
                                    <p class="font-semibold text-base">${p.name}</p>
                                    <p class="text-sm text-stone-600 mt-1">${p.recovery.reason}</p>
                                </div>
                            `).join('') : '<p class="text-stone-500 p-4 bg-stone-50 rounded-lg text-sm">이 공간에 추천되는 회복기 식물이 없습니다.</p>'}
                        </div>
                        <div>
                            <h3 class="text-lg sm:text-xl font-bold mb-4 text-teal-700 border-b-2 border-teal-200 pb-2">🚀 <span class="text-teal-600">성장</span> 추천 식물</h3>
                            ${growthPlants.length > 0 ? growthPlants.map(item => `
                                <div class="p-4 mb-2 bg-stone-50 rounded-lg">
                                    <div class="flex justify-between items-center mb-1">
                                        <p class="font-semibold text-base">${item.plant.name}</p>
                                        ${getRankBadgeHTML(item.recommendation.rank)}
                                    </div>
                                    <p class="text-sm text-stone-600 mt-1">${item.recommendation.reason}</p>
                                </div>
                            `).join('') : '<p class="text-stone-500 p-4 bg-stone-50 rounded-lg text-sm">이 공간에 추천되는 성장기 식물이 없습니다.</p>'}
                        </div>
                    </div>

                    <div class="mt-8 pt-6 border-t-2 border-teal-100">
                        <h3 class="text-xl font-bold mb-4 text-teal-700">🌿 이 공간을 위한 새로운 식물 추천</h3>
                        <div class="grid md:grid-cols-3 gap-4">
                            ${(spaceRecommendations[currentSpace] || []).map(rec => `
                                <div class="p-4 bg-teal-50 rounded-lg border border-teal-200">
                                    <p class="font-bold text-teal-800">${rec.name}</p>
                                    <p class="text-sm text-teal-700 mt-1">${rec.reason}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderPlantView() {
            const plant = database.plants.find(p => p.name === currentPlant);
            appContainer.innerHTML = `
                <div id="plant-view" class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                    <h2 class="text-xl sm:text-2xl font-bold mb-6 text-center">식물별 최적 공간 및 관리법</h2>
                    <div class="max-w-xs mx-auto mb-8">
                         <select class="w-full p-3 border border-stone-300 rounded-lg shadow-sm focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-base" onchange="handlePlantSelect(this.value)">
                            ${database.plants.map(p => `<option value="${p.name}" ${p.name === currentPlant ? 'selected' : ''}>${p.name}</option>`).join('')}
                        </select>
                    </div>
                    <div class="flex flex-col lg:grid lg:grid-cols-2 gap-6 md:gap-8 items-start">
                        <div class="space-y-6 w-full">
                            <div>
                                <h3 class="text-lg sm:text-xl font-bold mb-4 text-stone-700">${plant.name}의 생육 특성</h3>
                                <div class="p-4 bg-stone-50 rounded-lg h-[250px] sm:h-[280px]">
                                    <canvas id="plantNeedsChart"></canvas>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg sm:text-xl font-bold mb-4 text-teal-700">💡 관리 핵심 노트</h3>
                                <div class="space-y-4 text-sm">
                                    <div class="p-4 bg-blue-50 rounded-lg border-l-4 border-blue-400">
                                        <p class="font-bold text-blue-800">💧 물주기 Tip</p>
                                        <p class="text-stone-700 mt-1">${plant.care.watering_tip}</p>
                                    </div>
                                    <div class="p-4 bg-green-50 rounded-lg border-l-4 border-green-400">
                                        <p class="font-bold text-green-800">🌿 비료주기 Tip</p>
                                        <p class="text-stone-700 mt-1">${plant.care.fertilizer_tip}</p>
                                    </div>
                                    <div class="p-4 bg-red-50 rounded-lg border-l-4 border-red-400">
                                        <p class="font-bold text-red-800">🐞 병충해 주의</p>
                                        <p class="text-stone-700 mt-1">${plant.care.pests}</p>
                                    </div>
                                    <div class="p-4 bg-purple-50 rounded-lg border-l-4 border-purple-400">
                                        <p class="font-bold text-purple-800">✨ 폭풍성장 Tip & 도구</p>
                                        <p class="text-stone-700 mt-1">${plant.care.growth_tip}</p>
                                        <p class="text-sm font-semibold text-stone-800 mt-2">✅ 필요 도구: <span class="font-normal">${plant.care.tools || '특별한 도구 없음'}</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="space-y-6 w-full">
                            <div>
                                <h3 class="text-lg sm:text-xl font-bold mb-4 text-teal-700">🌱 분갈이 직후 추천 공간</h3>
                                <div class="p-4 bg-teal-50 rounded-lg border-l-4 border-teal-500">
                                    <p class="font-bold text-lg">${plant.recovery.space}</p>
                                    <p class="text-stone-700 mt-1 text-sm">${plant.recovery.reason}</p>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg sm:text-xl font-bold mb-4 text-teal-700">🚀 폭풍 성장 추천 공간 BEST 3</h3>
                                <div class="space-y-4">
                                    ${plant.growth.map(g => {
                                        let rankClasses, rankTitle;
                                        switch (g.rank) {
                                            case 1: rankClasses = 'bg-amber-50 border-amber-400'; rankTitle = '🥇 1순위'; break;
                                            case 2: rankClasses = 'bg-slate-100 border-slate-400'; rankTitle = '🥈 2순위'; break;
                                            case 3: rankClasses = 'bg-orange-50 border-orange-400'; rankTitle = '🥉 3순위'; break;
                                            default: rankClasses = 'bg-stone-50 border-stone-400'; rankTitle = `${g.rank}순위`;
                                        }
                                        return `
                                        <div class="p-4 ${rankClasses} rounded-lg border-l-4">
                                            <p class="font-bold text-lg mb-1">${rankTitle}: <span class="font-semibold">${g.space}</span></p>
                                            <p class="text-stone-700 text-sm">${g.reason}</p>
                                        </div>`;
                                    }).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            const ctx = document.getElementById('plantNeedsChart').getContext('2d');
            plantNeedsChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['광량', '물', '습도'],
                    datasets: [{
                        label: '요구도 (5점 만점)',
                        data: [plant.needs.light, plant.needs.water, plant.needs.humidity],
                        backgroundColor: '#0D9488',
                        borderColor: '#0F766E',
                        borderWidth: 1,
                        barThickness: 25,
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true, maintainAspectRatio: false,
                    scales: {
                        x: { beginAtZero: true, max: 5, grid: { display: false }, ticks: { color: '#78716C', font: { size: 10 } } },
                        y: { grid: { color: '#E7E5E4' }, ticks: { color: '#44403C', font: { size: 12 } } }
                    },
                    plugins: {
                        legend: { display: false },
                        title: { display: true, text: `${plant.name} 환경 요구도`, color: '#292524', font: { size: 14 } }
                    }
                }
            });
        }
        
        function renderAnalysisView() {
            appContainer.innerHTML = `
                <div id="analysis-view" class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                    <h2 class="text-xl sm:text-2xl font-bold mb-4 text-center">공간 환경 분석</h2>
                    <p class="text-center text-stone-600 mb-6 text-sm sm:text-base">공간을 선택하여 환경 요인을 확인하세요.</p>
                     <div class="flex flex-wrap justify-center gap-2 mb-6">
                        ${Object.keys(database.spaces).map(space => `
                            <button class="px-3 py-2 sm:px-4 rounded-full font-semibold text-xs sm:text-sm transition ${currentSpace === space ? 'bg-teal-600 text-white shadow-md' : 'bg-stone-200 text-stone-700 hover:bg-stone-300'}" onclick="handleSpaceSelect('${space}')">
                                ${space}
                            </button>
                        `).join('')}
                    </div>
                    <div class="flex flex-col md:grid md:grid-cols-2 gap-6 md:gap-8 items-center">
                        <div class="chart-container">
                             <canvas id="space-analysis-chart"></canvas>
                        </div>
                        <div class="p-4 bg-stone-50 rounded-lg">
                            <h3 class="text-lg sm:text-xl font-bold mb-2 text-stone-800">${currentSpace}</h3>
                            <p class="text-stone-600 text-sm sm:text-base">${database.spaces[currentSpace].description}</p>
                        </div>
                    </div>
                </div>
            `;
            createRadarChart(currentSpace);
        }
        
        function createRadarChart(spaceName) {
            const spaceData = database.spaces[spaceName];
            const ctx = document.getElementById('space-analysis-chart').getContext('2d');
            const data = {
                labels: ['광량', '통풍', '습도', '안정성'],
                datasets: [{
                    label: spaceName,
                    data: [spaceData.light, spaceData.ventilation, spaceData.humidity, spaceData.stability],
                    fill: true,
                    backgroundColor: 'rgba(13, 148, 136, 0.2)',
                    borderColor: 'rgb(13, 148, 136)',
                    pointBackgroundColor: 'rgb(13, 148, 136)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgb(13, 148, 136)'
                }]
            };
            activeChart = new Chart(ctx, {
                type: 'radar',
                data: data,
                options: {
                    responsive: true, maintainAspectRatio: false,
                    elements: { line: { borderWidth: 2 } },
                    scales: {
                        r: {
                            angleLines: { color: '#A8A29E' },
                            grid: { color: '#E7E5E4' },
                            pointLabels: { font: { size: 12, weight: 'bold' }, color: '#44403C' },
                            ticks: { display: false, stepSize: 1 },
                            suggestedMin: 0,
                            suggestedMax: 5
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        title: { display: true, text: `${spaceName} 환경 요인 (5점 만점)`, font: { size: 14 }, color: '#292524' }
                    }
                }
            });
        }
        
        function renderThemeView() {
            const themes = {
                "정글": "무성하고 이국적인 열대의 안식처. 밀도 높고, 습하며, 다층적인 열대 환경을 조성합니다.",
                "아프리카": "조형미와 따뜻한 대지의 서사. 대담하고 건축적인 실루엣과 강인한 생명력에 집중합니다.",
                "지중해": "햇살, 향기, 그리고 평온함. 밝고, 바람이 잘 통하며, 향기로운 공간을 만듭니다."
            };
            const themeIcons = { "정글": "🌳", "아프리카": "🏜️", "지중해": "🌿" };

            appContainer.innerHTML = `
                <div id="theme-view" class="space-y-8">
                    <header class="text-center">
                        <h2 class="text-2xl sm:text-3xl font-bold text-stone-800">당신의 공간을 위한 식물 아틀라스</h2>
                        <p class="text-base text-stone-600 mt-2">세 가지 테마로 완성하는 보태니컬 홈</p>
                    </header>
                    ${Object.keys(themes).map(themeName => `
                        <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                            <h3 class="text-xl sm:text-2xl font-bold mb-2 text-teal-700">${themeIcons[themeName]} ${themeName}</h3>
                            <p class="text-stone-600 mb-6 text-sm sm:text-base">${themes[themeName]}</p>
                            
                            <div class="mb-6">
                                <h4 class="font-bold text-lg mb-3 text-stone-800">✅ 보유 식물</h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                    ${database.plants.filter(p => p.theme === themeName).map(plant => `
                                        <div class="bg-stone-50 p-4 rounded-lg border-l-4 border-stone-300">
                                            <p class="font-semibold text-stone-800">${plant.name}</p>
                                            <p class="text-sm text-stone-600 mt-1"><strong>특징:</strong> ${plant.visual_feature}</p>
                                            <p class="text-sm text-stone-600 mt-1"><strong>팁:</strong> ${plant.styling_note}</p>
                                        </div>
                                    `).join('') || '<p class="text-stone-500 text-sm col-span-full">이 테마에 해당하는 보유 식물이 없습니다.</p>'}
                                </div>
                            </div>

                            <div>
                                <h4 class="font-bold text-lg mb-3 text-purple-800">✨ 신규 추천 식물</h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    ${(themeRecommendations[themeName] || []).map(rec => `
                                        <div class="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-300">
                                            <p class="font-semibold text-purple-800">${rec.name}</p>
                                            <p class="text-sm text-purple-700 mt-1">${rec.reason}</p>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function handleNavClick(view) { currentView = view; render(); }
        function handleSpaceSelect(spaceName) { currentSpace = spaceName; render(); }
        function handlePlantSelect(plantName) { currentPlant = plantName; render(); }

        document.getElementById('nav-space').addEventListener('click', () => handleNavClick('space'));
        document.getElementById('nav-plant').addEventListener('click', () => handleNavClick('plant'));
        document.getElementById('nav-analysis').addEventListener('click', () => handleNavClick('analysis'));
        document.getElementById('nav-guide').addEventListener('click', () => handleNavClick('guide'));
        document.getElementById('nav-themes').addEventListener('click', () => handleNavClick('themes'));

        window.onload = render;
    </script>
</body>
</html>
